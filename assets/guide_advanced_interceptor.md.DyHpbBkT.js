import{_ as i,c as a,o as n,a0 as h}from"./chunks/framework.Cl3KOctt.js";const g=JSON.parse('{"title":"ğŸ”— æ‹¦æˆªå™¨","description":"","frontmatter":{},"headers":[],"relativePath":"guide/advanced/interceptor.md","filePath":"guide/advanced/interceptor.md","lastUpdated":1756968520000}'),t={name:"guide/advanced/interceptor.md"};function l(p,s,e,k,r,E){return n(),a("div",null,[...s[0]||(s[0]=[h(`<h1 id="ğŸ”—-æ‹¦æˆªå™¨" tabindex="-1">ğŸ”— æ‹¦æˆªå™¨ <a class="header-anchor" href="#ğŸ”—-æ‹¦æˆªå™¨" aria-label="Permalink to &quot;ğŸ”— æ‹¦æˆªå™¨&quot;">â€‹</a></h1><p>æ‹¦æˆªå™¨æ˜¯ Ryze æ¡†æ¶ä¸­çš„é«˜çº§åŠŸèƒ½ï¼Œå…è®¸æ‚¨åœ¨æµ‹è¯•æ‰§è¡Œçš„ä¸åŒé˜¶æ®µè¿›è¡Œè‡ªå®šä¹‰å¤„ç†ï¼Œå¦‚å‚æ•°åŠ å¯†ã€å“åº”è§£å¯†ã€æ—¥å¿—è®°å½•ç­‰ã€‚</p><h2 id="ğŸ”-åŸºæœ¬æ¦‚å¿µ" tabindex="-1">ğŸ” åŸºæœ¬æ¦‚å¿µ <a class="header-anchor" href="#ğŸ”-åŸºæœ¬æ¦‚å¿µ" aria-label="Permalink to &quot;ğŸ” åŸºæœ¬æ¦‚å¿µ&quot;">â€‹</a></h2><h3 id="ä½œç”¨èŒƒå›´" tabindex="-1">ä½œç”¨èŒƒå›´ <a class="header-anchor" href="#ä½œç”¨èŒƒå›´" aria-label="Permalink to &quot;ä½œç”¨èŒƒå›´&quot;">â€‹</a></h3><p>æ‹¦æˆªå™¨å¯ä»¥å¯¹ä»¥ä¸‹ç»„ä»¶è¿›è¡Œæ‹¦æˆªï¼š</p><ul><li><strong>æµ‹è¯•é›†åˆ</strong>ï¼šåœ¨æ•´ä¸ªæµ‹è¯•é›†åˆæ‰§è¡Œå‰åè¿›è¡Œå¤„ç†</li><li><strong>å–æ ·å™¨</strong>ï¼šåœ¨å•ä¸ªæµ‹è¯•è¯·æ±‚æ‰§è¡Œå‰åè¿›è¡Œå¤„ç†</li><li><strong>å¤„ç†å™¨</strong>ï¼šåœ¨å‰ç½®/åç½®å¤„ç†å™¨æ‰§è¡Œæ—¶è¿›è¡Œæ‹¦æˆª</li></ul><h3 id="æ‰§è¡Œç”Ÿå‘½å‘¨æœŸ" tabindex="-1">æ‰§è¡Œç”Ÿå‘½å‘¨æœŸ <a class="header-anchor" href="#æ‰§è¡Œç”Ÿå‘½å‘¨æœŸ" aria-label="Permalink to &quot;æ‰§è¡Œç”Ÿå‘½å‘¨æœŸ&quot;">â€‹</a></h3><p>æ‹¦æˆªå™¨éµå¾ªä»¥ä¸‹æ‰§è¡Œé¡ºåºï¼š</p><ol><li><strong>preHandle</strong>ï¼šåœ¨ç›®æ ‡ç»„ä»¶æ‰§è¡Œå‰è°ƒç”¨</li><li><strong>ç›®æ ‡ç»„ä»¶æ‰§è¡Œ</strong></li><li><strong>postHandle</strong>ï¼šåœ¨ç›®æ ‡ç»„ä»¶æ‰§è¡Œåè°ƒç”¨</li><li><strong>afterCompletion</strong>ï¼šåœ¨æ•´ä¸ªè¯·æ±‚å®Œæˆåè°ƒç”¨ï¼ˆæ— è®ºæˆåŠŸæˆ–å¤±è´¥ï¼‰</li></ol><h2 id="âš™ï¸-é…ç½®è¯­æ³•" tabindex="-1">âš™ï¸ é…ç½®è¯­æ³• <a class="header-anchor" href="#âš™ï¸-é…ç½®è¯­æ³•" aria-label="Permalink to &quot;âš™ï¸ é…ç½®è¯­æ³•&quot;">â€‹</a></h2><h3 id="åŸºæœ¬é…ç½®æ ¼å¼" tabindex="-1">åŸºæœ¬é…ç½®æ ¼å¼ <a class="header-anchor" href="#åŸºæœ¬é…ç½®æ ¼å¼" aria-label="Permalink to &quot;åŸºæœ¬é…ç½®æ ¼å¼&quot;">â€‹</a></h3><p>åœ¨æµ‹è¯•é›†åˆæˆ–å–æ ·å™¨ä¸­é€šè¿‡ <code>interceptors</code> å­—æ®µé…ç½®æ‹¦æˆªå™¨ï¼š</p><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">testclass</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">http</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  # ç›®æ ‡ç»„ä»¶ç±»å‹</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">interceptors</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  # æ–¹å¼1ï¼šç®€å•å¼•ç”¨ï¼ˆæ— å‚æ•°ï¼‰</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;LogInterceptor&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  # æ–¹å¼2ï¼šå¸¦å‚æ•°å¼•ç”¨</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  - </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">EncryptInterceptor</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      algorithm</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;AES&#39;</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      key</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;mySecretKey&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  # æ–¹å¼3ï¼šå®Œæ•´é…ç½®å½¢å¼</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  - </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">testclass</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;PerformanceInterceptor&#39;</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    timeout_threshold</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">5000</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    log_slow_requests</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span></span></code></pre></div><h3 id="åº”ç”¨åœºæ™¯ç¤ºä¾‹" tabindex="-1">åº”ç”¨åœºæ™¯ç¤ºä¾‹ <a class="header-anchor" href="#åº”ç”¨åœºæ™¯ç¤ºä¾‹" aria-label="Permalink to &quot;åº”ç”¨åœºæ™¯ç¤ºä¾‹&quot;">â€‹</a></h3><h4 id="_1-http-è¯·æ±‚æ—¥å¿—è®°å½•" tabindex="-1">1. HTTP è¯·æ±‚æ—¥å¿—è®°å½• <a class="header-anchor" href="#_1-http-è¯·æ±‚æ—¥å¿—è®°å½•" aria-label="Permalink to &quot;1. HTTP è¯·æ±‚æ—¥å¿—è®°å½•&quot;">â€‹</a></h4><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">testclass</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">http</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">interceptors</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  - </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">HttpLogInterceptor</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      log_headers</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      log_body</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      mask_sensitive</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">config</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  method</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">POST</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  url</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">https://api.example.com/users</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  headers</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    Authorization</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">Bearer \${token}</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  body</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    username</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">testuser</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    password</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">secret123</span></span></code></pre></div><h4 id="_2-åŠ¨æ€å‚æ•°åŠ å¯†" tabindex="-1">2. åŠ¨æ€å‚æ•°åŠ å¯† <a class="header-anchor" href="#_2-åŠ¨æ€å‚æ•°åŠ å¯†" aria-label="Permalink to &quot;2. åŠ¨æ€å‚æ•°åŠ å¯†&quot;">â€‹</a></h4><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">testclass</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">http</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">interceptors</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  - </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">RequestEncryptInterceptor</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      fields</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [ </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;password&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;email&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ]</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      algorithm</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;md5&#39;</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">config</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  method</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">POST</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  url</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">https://api.example.com/register</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  body</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    username</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">newuser</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    password</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">plaintext</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  # å°†è¢«è‡ªåŠ¨åŠ å¯†</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    email</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">user@example.com</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  # å°†è¢«è‡ªåŠ¨åŠ å¯†</span></span></code></pre></div><h4 id="_3-å“åº”æ•°æ®è§£å¯†" tabindex="-1">3. å“åº”æ•°æ®è§£å¯† <a class="header-anchor" href="#_3-å“åº”æ•°æ®è§£å¯†" aria-label="Permalink to &quot;3. å“åº”æ•°æ®è§£å¯†&quot;">â€‹</a></h4><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">testclass</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">http</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">interceptors</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  - </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">ResponseDecryptInterceptor</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      encrypted_fields</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [ </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;data.user_info&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ]</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      decryption_key</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">\${decrypt_key}</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">config</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  method</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">GET</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  url</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">https://api.example.com/profile</span></span></code></pre></div><h4 id="_4-æ€§èƒ½ç›‘æ§" tabindex="-1">4. æ€§èƒ½ç›‘æ§ <a class="header-anchor" href="#_4-æ€§èƒ½ç›‘æ§" aria-label="Permalink to &quot;4. æ€§èƒ½ç›‘æ§&quot;">â€‹</a></h4><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">testclass</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">http</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">interceptors</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  - </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">PerformanceMonitorInterceptor</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      alert_threshold</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3000</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  # è¶…è¿‡3ç§’æŠ¥è­¦</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      collect_metrics</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">config</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  method</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">GET</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  url</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">https://api.example.com/heavy-operation</span></span></code></pre></div><h2 id="ğŸ› ï¸-å†…ç½®æ‹¦æˆªå™¨" tabindex="-1">ğŸ› ï¸ å†…ç½®æ‹¦æˆªå™¨ <a class="header-anchor" href="#ğŸ› ï¸-å†…ç½®æ‹¦æˆªå™¨" aria-label="Permalink to &quot;ğŸ› ï¸ å†…ç½®æ‹¦æˆªå™¨&quot;">â€‹</a></h2><h3 id="æ—¥å¿—è®°å½•æ‹¦æˆªå™¨" tabindex="-1">æ—¥å¿—è®°å½•æ‹¦æˆªå™¨ <a class="header-anchor" href="#æ—¥å¿—è®°å½•æ‹¦æˆªå™¨" aria-label="Permalink to &quot;æ—¥å¿—è®°å½•æ‹¦æˆªå™¨&quot;">â€‹</a></h3><p><strong>åŠŸèƒ½</strong>ï¼šè®°å½•è¯·æ±‚å’Œå“åº”çš„è¯¦ç»†ä¿¡æ¯</p><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">interceptors</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  - </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">LoggingInterceptor</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      log_level</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;INFO&#39;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  # DEBUG, INFO, WARN, ERROR</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      include_headers</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      include_body</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      max_body_length</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1000</span></span></code></pre></div><h3 id="ç¼“å­˜æ‹¦æˆªå™¨" tabindex="-1">ç¼“å­˜æ‹¦æˆªå™¨ <a class="header-anchor" href="#ç¼“å­˜æ‹¦æˆªå™¨" aria-label="Permalink to &quot;ç¼“å­˜æ‹¦æˆªå™¨&quot;">â€‹</a></h3><p><strong>åŠŸèƒ½</strong>ï¼šç¼“å­˜å“åº”ç»“æœï¼Œæé«˜æµ‹è¯•æ€§èƒ½</p><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">interceptors</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  - </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">CacheInterceptor</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      cache_key_fields</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [ </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;url&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;method&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ]</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      cache_duration</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">300</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  # 5åˆ†é’Ÿ</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      enable_cache</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span></span></code></pre></div><h3 id="é‡è¯•æ‹¦æˆªå™¨" tabindex="-1">é‡è¯•æ‹¦æˆªå™¨ <a class="header-anchor" href="#é‡è¯•æ‹¦æˆªå™¨" aria-label="Permalink to &quot;é‡è¯•æ‹¦æˆªå™¨&quot;">â€‹</a></h3><p><strong>åŠŸèƒ½</strong>ï¼šåœ¨è¯·æ±‚å¤±è´¥æ—¶è‡ªåŠ¨é‡è¯•</p><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">interceptors</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  - </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">RetryInterceptor</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      max_attempts</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      retry_delay</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1000</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  # æ¯«ç§’</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      retry_on_status</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [ </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">500</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">502</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">503</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">504</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ]</span></span></code></pre></div><h2 id="ğŸ’¡-æ‰©å±•åŠŸèƒ½" tabindex="-1">ğŸ’¡ æ‰©å±•åŠŸèƒ½ <a class="header-anchor" href="#ğŸ’¡-æ‰©å±•åŠŸèƒ½" aria-label="Permalink to &quot;ğŸ’¡ æ‰©å±•åŠŸèƒ½&quot;">â€‹</a></h2><p>å½“å†…ç½®æ‹¦æˆªå™¨æ— æ³•æ»¡è¶³ç‰¹å®šéœ€æ±‚æ—¶ï¼ŒRyze æ¡†æ¶æ”¯æŒè‡ªå®šä¹‰æ‹¦æˆªå™¨æ‰©å±•ã€‚è¯¦ç»†çš„å¼€å‘æŒ‡å—è¯·å‚è€ƒï¼š</p><ul><li><strong>å¼€å‘æ–‡æ¡£</strong>ï¼š<a href="/ryze/developer/interceptor.html">æ‹¦æˆªå™¨</a> - å®Œæ•´çš„å¼€å‘æŒ‡å—å’Œæœ€ä½³å®è·µ</li><li><strong>ä»£ç ç¤ºä¾‹</strong> ï¼šæŸ¥çœ‹æ¡†æ¶æºç ä¸­çš„<a href="https://github.com/XiaoMiSum/ryze/tree/master/ryze/src/main/java/io/github/xiaomisum/ryze/interceptor" target="_blank" rel="noreferrer">å†…ç½®æ‹¦æˆªå™¨å®ç°</a></li></ul><p><strong>ğŸ’¡ æç¤º</strong>ï¼šæ‹¦æˆªå™¨æ˜¯å®ç°å¤æ‚æµ‹è¯•é€»è¾‘çš„å¼ºå¤§å·¥å…·ï¼Œåˆç†ä½¿ç”¨å¯ä»¥å¤§å¤§æé«˜æµ‹è¯•çš„çµæ´»æ€§å’Œæ‰©å±•æ€§ï¼</p>`,36)])])}const y=i(t,[["render",l]]);export{g as __pageData,y as default};
